## Автоматизированный скрипт оповещения о полярном сиянии

### Источник данных

Скрипт автоматически загружает и обрабатывает актуальные данные с **NOAA SWPC (Space Weather Prediction Center)** по следующим направлениям:

-   **`mag_5min`** — магнитное поле (компоненты Bz и Bt)

-   **`plasma_5min`** — параметры солнечного ветра (плотность, скорость, температура)

-   **`kp_now`** — текущий планетарный индекс геомагнитной активности Kp

-   **`kp_forecast`** — прогноз Kp-индекса

-   **`flux_30d`** — поток солнечного радиоизлучения (10.7 см)

-   **`aurora`** — карта вероятности полярного сияния

###  Что делает скрипт

-   Загружает и обрабатывает данные космической погоды

-   Оценивает вероятность полярного сияния на основе:

    -   Прогноза NOAA (по координатам)

    -   Онлайн-данных спутника **DSCOVR** в точке Лагранжа L1

-   Генерирует график солнечной активности за последний месяц

-   Отправляет результаты в **мессенджер Telegram** в виде:

    -   Текстового отчёта

    -   Графика в формате PNG

### Настройка географической области

Прогноз нацелен на регион в пределах заданных координат:

***aurora_map** \<- **space_data\$aurora_map_df** %\>% filter(lon \>= 46 & lon \<= 49, lat \>= 54 & lat \<= 57)*

###  Установка и запуск

1.  **Установите необходимые библиотеки**

-   install.packages(c("httr", "jsonlite", "tidyverse", "ggplot2"))

2.  **Клонируйте репозиторий**

-   git clone <https://github.com/your-username/aurora-alert-bot.git>

3.  **Установите переменные окружения (например, через `.Renviron`):**

-   TELEGRAM_TOKEN=ваш_токен_бота

-   TELEGRAM_CHAT_ID=ваш_chat_id

4.  **Запустите функцию:**

-   pull_data()

###  Назначение

Скрипт предназначен для **раннего оповещения о возможном полярном сиянии** в целевом регионе. Может использоваться:

-   энтузиастами и любителями астрономии

-   образовательными учреждениями

-   туристическими службами
